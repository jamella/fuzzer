$Id = type: Sequence,
      start: 2,
      step: 2

ExistingLiteral = 0, // false
           | 1, // true
           | $Id.Existing,
           | ${Id.Existing + 1} // +1 means a NOT for this input

Inputs = *(Input)
Input = $Id.Next "\n"

Latches = *(Latch)
Latch = $Id.Next " " ExistingLiteral "\n"

Outputs = *(Output)
Output = ExistingLiteral "\n"

Ands = *(And)
And = $Id.Next " " ExistingLiteral " " ExistingLiteral "\n"

Header = "aag ",
         ${Inputs.Count + Latches.Count + Ands.Count} " ", // M
         $Inputs.Count " ",                                // I
         $Latches.Count " " ,                              // L
         $Outputs.Count " ",                               // O
         $Ands.Count "\n"                                  // A

Body = Inputs,
       Latches,
       Outputs,
       Ands

START = $Id.Reset,
        Header,
        Body
